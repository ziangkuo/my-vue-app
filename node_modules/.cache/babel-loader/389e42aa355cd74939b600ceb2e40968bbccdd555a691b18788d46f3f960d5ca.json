{"ast":null,"code":"import \"core-js/modules/web.url-search-params.delete.js\";\nimport \"core-js/modules/web.url-search-params.has.js\";\nimport \"core-js/modules/web.url-search-params.size.js\";\nimport axios from 'axios';\nexport default {\n  data() {\n    return {\n      file: null\n    };\n  },\n  methods: {\n    uploadFile(event) {\n      this.file = event.target.files[0];\n    },\n    async submit() {\n      if (!this.file) return;\n\n      // 创建 FormData 对象\n      const formData = new FormData();\n\n      // 添加文件到 FormData 对象\n      formData.append('file', this.file);\n\n      // 上传文件\n      await axios.post('/upload', formData);\n\n      // 提交后从服务器下载字幕\n      const response = await axios.get('/download', {\n        responseType: 'blob'\n      });\n\n      // 创建下载链接并触发下载\n      const url = window.URL.createObjectURL(new Blob([response.data]));\n      const link = document.createElement('a');\n      link.href = url;\n      link.setAttribute('download', 'subtitle.txt'); // 文件名\n      document.body.appendChild(link);\n      link.click();\n    }\n  }\n};","map":{"version":3,"names":["axios","data","file","methods","uploadFile","event","target","files","submit","formData","FormData","append","post","response","get","responseType","url","window","URL","createObjectURL","Blob","link","document","createElement","href","setAttribute","body","appendChild","click"],"sources":["src/views/Pagetwo.vue"],"sourcesContent":["<template>\n    <div>\n      <input type=\"file\" @change=\"uploadFile\"/>\n      <button @click=\"submit\">提交</button>\n    </div>\n  </template>\n   \n  <script>\n  import axios from 'axios'\n   \n  export default {\n    data() {\n      return {\n        file: null\n      }\n    },\n    methods: {\n      uploadFile(event) {\n        this.file = event.target.files[0]\n      },\n   \n      async submit() {\n        if (!this.file) return\n   \n        // 创建 FormData 对象\n        const formData = new FormData()\n   \n        // 添加文件到 FormData 对象\n        formData.append('file', this.file)\n   \n        // 上传文件\n        await axios.post('/upload', formData)\n   \n        // 提交后从服务器下载字幕\n        const response = await axios.get('/download', { responseType: 'blob' })\n   \n        // 创建下载链接并触发下载\n        const url = window.URL.createObjectURL(new Blob([response.data]))\n        const link = document.createElement('a')\n        link.href = url\n        link.setAttribute('download', 'subtitle.txt') // 文件名\n        document.body.appendChild(link)\n        link.click()\n      }\n    }\n  }\n  </script>"],"mappings":";;;AAQA,OAAAA,KAAA;AAEA;EACAC,KAAA;IACA;MACAC,IAAA;IACA;EACA;EACAC,OAAA;IACAC,WAAAC,KAAA;MACA,KAAAH,IAAA,GAAAG,KAAA,CAAAC,MAAA,CAAAC,KAAA;IACA;IAEA,MAAAC,OAAA;MACA,UAAAN,IAAA;;MAEA;MACA,MAAAO,QAAA,OAAAC,QAAA;;MAEA;MACAD,QAAA,CAAAE,MAAA,cAAAT,IAAA;;MAEA;MACA,MAAAF,KAAA,CAAAY,IAAA,YAAAH,QAAA;;MAEA;MACA,MAAAI,QAAA,SAAAb,KAAA,CAAAc,GAAA;QAAAC,YAAA;MAAA;;MAEA;MACA,MAAAC,GAAA,GAAAC,MAAA,CAAAC,GAAA,CAAAC,eAAA,KAAAC,IAAA,EAAAP,QAAA,CAAAZ,IAAA;MACA,MAAAoB,IAAA,GAAAC,QAAA,CAAAC,aAAA;MACAF,IAAA,CAAAG,IAAA,GAAAR,GAAA;MACAK,IAAA,CAAAI,YAAA;MACAH,QAAA,CAAAI,IAAA,CAAAC,WAAA,CAAAN,IAAA;MACAA,IAAA,CAAAO,KAAA;IACA;EACA;AACA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}