{"ast":null,"code":"import { ref as storageRef, uploadBytesResumable, getDownloadURL } from '../firebase/init';\nimport { storage } from '../firebase/init'; // 确保这个路径匹配你的Firebase配置文件路径\n\nexport default {\n  data() {\n    return {\n      uploading: false,\n      uploadProgress: 0,\n      videoUrl: ''\n    };\n  },\n  methods: {\n    uploadFile(event) {\n      const file = event.target.files[0];\n      if (!file) {\n        console.log(\"No file selected.\");\n        return;\n      }\n      const fileRef = storageRef(storage, `videos/${file.name}`);\n      const uploadTask = uploadBytesResumable(fileRef, file);\n      uploadTask.on('state_changed', snapshot => {\n        // 正在上传\n        const progress = snapshot.bytesTransferred / snapshot.totalBytes * 100;\n        console.log('Upload is ' + progress + '% done');\n      }, error => {\n        // 出错\n        console.log(error);\n      }, () => {\n        // 完成\n        console.log('Upload complete');\n      });\n    }\n  }\n};","map":{"version":3,"names":["ref","storageRef","uploadBytesResumable","getDownloadURL","storage","data","uploading","uploadProgress","videoUrl","methods","uploadFile","event","file","target","files","console","log","fileRef","name","uploadTask","on","snapshot","progress","bytesTransferred","totalBytes","error"],"sources":["src/views/Pagetwo.vue"],"sourcesContent":["<template>\n    <div>\n      <input type=\"file\" @change=\"uploadFile\" />\n      <div v-if=\"uploading\">\n        上传中: {{ uploadProgress }}%\n      </div>\n      <div v-if=\"videoUrl\">\n        上传成功! 视频URL: <a :href=\"videoUrl\" target=\"_blank\">{{ videoUrl }}</a>\n      </div>\n    </div>\n  </template>\n  \n  <script>\n  import { ref as storageRef, uploadBytesResumable, getDownloadURL } from '../firebase/init';\n  import { storage } from '../firebase/init'; // 确保这个路径匹配你的Firebase配置文件路径\n  \n  export default {\n    data() {\n      return {\n        uploading: false,\n        uploadProgress: 0,\n        videoUrl: '',\n      };\n    },\n    methods: {\n        uploadFile(event) {\n  const file = event.target.files[0];\n  if (!file) {\n    console.log(\"No file selected.\");\n    return;\n  }\n\n  const fileRef = storageRef(storage, `videos/${file.name}`);\n  const uploadTask = uploadBytesResumable(fileRef, file);\n\n  uploadTask.on('state_changed',\n    (snapshot) => {\n      // 正在上传\n      const progress = (snapshot.bytesTransferred / snapshot.totalBytes) * 100;\n      console.log('Upload is ' + progress + '% done');\n    }, \n    (error) => {\n      // 出错\n      console.log(error);\n    }, \n    () => {\n      // 完成\n      console.log('Upload complete');\n    }\n  );\n},\n    },\n  };\n  </script>\n  \n  <style scoped>\n  </style>\n  "],"mappings":"AAaA,SAAAA,GAAA,IAAAC,UAAA,EAAAC,oBAAA,EAAAC,cAAA;AACA,SAAAC,OAAA;;AAEA;EACAC,KAAA;IACA;MACAC,SAAA;MACAC,cAAA;MACAC,QAAA;IACA;EACA;EACAC,OAAA;IACAC,WAAAC,KAAA;MACA,MAAAC,IAAA,GAAAD,KAAA,CAAAE,MAAA,CAAAC,KAAA;MACA,KAAAF,IAAA;QACAG,OAAA,CAAAC,GAAA;QACA;MACA;MAEA,MAAAC,OAAA,GAAAhB,UAAA,CAAAG,OAAA,YAAAQ,IAAA,CAAAM,IAAA;MACA,MAAAC,UAAA,GAAAjB,oBAAA,CAAAe,OAAA,EAAAL,IAAA;MAEAO,UAAA,CAAAC,EAAA,kBACAC,QAAA;QACA;QACA,MAAAC,QAAA,GAAAD,QAAA,CAAAE,gBAAA,GAAAF,QAAA,CAAAG,UAAA;QACAT,OAAA,CAAAC,GAAA,gBAAAM,QAAA;MACA,GACAG,KAAA;QACA;QACAV,OAAA,CAAAC,GAAA,CAAAS,KAAA;MACA,GACA;QACA;QACAV,OAAA,CAAAC,GAAA;MACA,CACA;IACA;EACA;AACA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}