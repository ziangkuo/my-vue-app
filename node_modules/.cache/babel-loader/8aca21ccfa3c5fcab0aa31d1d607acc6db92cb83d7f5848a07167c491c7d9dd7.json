{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport Mock from 'mockjs';\nimport Cookie from 'js-cookie';\nimport { getMenu } from '../api';\nexport default {\n  data() {\n    return {\n      form: {\n        mail: '',\n        password: ''\n      },\n      rules: {\n        mail: [{\n          required: true,\n          message: '请输入邮箱',\n          trigger: 'blur'\n        }, {\n          type: 'email',\n          message: '请输入正确的邮箱地址',\n          trigger: 'blur'\n        }],\n        password: [{\n          required: true,\n          message: '请输入密码',\n          trigger: 'blur'\n        }, {\n          min: 6,\n          max: 12,\n          message: '密码长度在6-12位之间',\n          trigger: 'blur'\n        }]\n      }\n    };\n  },\n  methods: {\n    submit() {\n      console.log('submit called');\n      this.$refs.form.validate(valid => {\n        if (valid) {\n          console.log('form is valid');\n          getMenu(this.form).then(({\n            data\n          }) => {\n            console.log('getMenu returned', data);\n            if (data.code === 20000) {\n              Cookie.set('token', data.data.token);\n              this.$router.push('/home');\n            } else {\n              this.$message.error(data.data.message);\n            }\n          }).catch(error => {\n            console.log(error);\n          });\n        } else {\n          console.log('form is not valid');\n        }\n      });\n    }\n  }\n};","map":{"version":3,"names":["Mock","Cookie","getMenu","data","form","mail","password","rules","required","message","trigger","type","min","max","methods","submit","console","log","$refs","validate","valid","then","code","set","token","$router","push","$message","error","catch"],"sources":["src/views/Login.vue"],"sourcesContent":["<template>\n    <el-form ref=\"form\" class=\"login-container\" :model=\"form\" :rules=\"rules\">\n        <h3 class=\"title\">系统登录</h3>\n        <el-form-item label=\"邮箱\" prop=\"mail\">\n            <el-input v-model=\"form.mail\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"密码\" prop=\"password\">\n            <el-input type=\"password\" v-model=\"form.password\"></el-input>\n        </el-form-item>\n        <el-form-item style=\"display: flex; justify-content: center ;\">\n            <el-button @click=\"submit\" type=\"primary\">登录</el-button>\n        </el-form-item>\n    </el-form>\n</template>\n\n<script>\nimport Mock from 'mockjs'\nimport Cookie from 'js-cookie'\nimport {getMenu} from '../api'\nexport default{\n    data(){\n        return{\n            form:{\n                mail:'',\n                password:''\n            },\n            rules:{\n                mail:[\n                    {required:true,message:'请输入邮箱',trigger:'blur'},\n                    {type:'email',message:'请输入正确的邮箱地址',trigger:'blur'}\n                ],\n                password:[\n                    {required:true,message:'请输入密码',trigger:'blur'},\n                    {min:6,max:12,message:'密码长度在6-12位之间',trigger:'blur'}\n                ]\n            }\n            \n        }\n    },\n\n    methods: {\n        submit() {\n            console.log('submit called')\n            this.$refs.form.validate((valid) => {\n                if (valid) {\n                    console.log('form is valid')\n                    getMenu(this.form).then(({data}) => {\n                        console.log('getMenu returned',data)\n                        if (data.code === 20000) {\n                            Cookie.set('token', data.data.token)\n                            this.$router.push('/home')\n                        } else {\n                            this.$message.error(data.data.message)\n                        }\n                    }).catch((error) => {\n                        console.log(error)\n                    })\n\n                } else {\n                    console.log('form is not valid')\n                }\n            })\n        }\n    }\n}\n</script>\n\n<style lang=\"less\" scoped>\n.login-container{\n    width: 400px;\n    margin: 180px auto;\n    padding: 20px;\n    border: 1px solid #ccc;\n    border-radius: 15px;\n    box-shadow: 0 0 10px #ccc;\n    .title{\n        text-align: center;\n        font-size: 24px;\n        margin-bottom: 20px;\n    }\n    .el-button{\n        text-align: center;\n    }\n}\n</style>"],"mappings":";AAgBA,OAAAA,IAAA;AACA,OAAAC,MAAA;AACA,SAAAC,OAAA;AACA;EACAC,KAAA;IACA;MACAC,IAAA;QACAC,IAAA;QACAC,QAAA;MACA;MACAC,KAAA;QACAF,IAAA,GACA;UAAAG,QAAA;UAAAC,OAAA;UAAAC,OAAA;QAAA,GACA;UAAAC,IAAA;UAAAF,OAAA;UAAAC,OAAA;QAAA,EACA;QACAJ,QAAA,GACA;UAAAE,QAAA;UAAAC,OAAA;UAAAC,OAAA;QAAA,GACA;UAAAE,GAAA;UAAAC,GAAA;UAAAJ,OAAA;UAAAC,OAAA;QAAA;MAEA;IAEA;EACA;EAEAI,OAAA;IACAC,OAAA;MACAC,OAAA,CAAAC,GAAA;MACA,KAAAC,KAAA,CAAAd,IAAA,CAAAe,QAAA,CAAAC,KAAA;QACA,IAAAA,KAAA;UACAJ,OAAA,CAAAC,GAAA;UACAf,OAAA,MAAAE,IAAA,EAAAiB,IAAA;YAAAlB;UAAA;YACAa,OAAA,CAAAC,GAAA,qBAAAd,IAAA;YACA,IAAAA,IAAA,CAAAmB,IAAA;cACArB,MAAA,CAAAsB,GAAA,UAAApB,IAAA,CAAAA,IAAA,CAAAqB,KAAA;cACA,KAAAC,OAAA,CAAAC,IAAA;YACA;cACA,KAAAC,QAAA,CAAAC,KAAA,CAAAzB,IAAA,CAAAA,IAAA,CAAAM,OAAA;YACA;UACA,GAAAoB,KAAA,CAAAD,KAAA;YACAZ,OAAA,CAAAC,GAAA,CAAAW,KAAA;UACA;QAEA;UACAZ,OAAA,CAAAC,GAAA;QACA;MACA;IACA;EACA;AACA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}